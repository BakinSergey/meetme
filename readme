# DEPLOY

1. git clone
2. make .env from env.sample

в папке репозитория repository_folder/

3. pip install pipenv
4. pipenv shell
5. pipenv install

6.
7. python manage.py collectstatic --settings=MeetMeRoot.MeetMe.settings.prod

configurate and run gunicorn & nginx

в папке repository_folder/MeetMeRoot/

8. запуск гуникорна: gunicorn MeetMe.wsgi:application
9. запуск nginx


python ./domofon/manage.py makemigrations --settings=domofon.settings.local
python ./domofon/manage.py migrate --settings=domofon.settings.local
python ./domofon/manage.py collectstatic --no-input
#python ./domofon/manage.py runserver 0.0.0.0:8000 --settings=domofon.settings.prod
#python ./domofon/manage.py create_some_clients --synt_cnt=20 --test_cnt=40

sleep 60s  # fuck mysql

python ./domofon/manage.py create_some_clients
python ./domofon/manage.py runserver 0.0.0.0:8000 --settings=domofon.settings.local

# create some test clients




#exec gunicorn domofon.domofon.wsgi:application \
#    --name sip-domofon \
#    --bind 127.0.0.1:8000 \
#    --workers 1 \
#    --log-level=info \
#    --log-file=./logs/gunicorn.log \
#    --access-logfile=./logs/gunicorn-access.log \